module.exports=[56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},2868,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(38246);function f(){let a=(0,d.useRouter)(),[f,g]=(0,c.useState)(!1),[h,i]=(0,c.useState)([]),[j,k]=(0,c.useState)(""),[l,m]=(0,c.useState)(""),[n,o]=(0,c.useState)(""),[p,q]=(0,c.useState)(null),[r,s]=(0,c.useState)(!1),t=(0,c.useRef)(!1),u=(0,c.useRef)(!1);function v(){k(""),m(""),o(""),q(null),s(!1)}async function w(){if(!j.trim())return void alert("Please enter a job title");if(!l.trim())return void alert("Please enter a job description");if(!n.trim())return void alert("Please enter required skills");try{let a=p?`/api/jobs/${p}`:"/api/jobs",b=await fetch(a,{method:p?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:j,description:l,requiredSkills:n})});if(!b.ok){let a=await b.json();alert(`Error: ${a.error||"Failed to save job"}`);return}try{sessionStorage.removeItem("admin_jobs")}catch(a){}v(),await z(),alert(`Job ${p?"updated":"created"} successfully!`)}catch(a){console.error("Error saving job:",a),alert(`Error: ${a instanceof Error?a.message:"Unknown error"}`)}}async function x(a){if(confirm("Are you sure you want to delete this job posting?"))try{let b=await fetch(`/api/jobs/${a}`,{method:"DELETE"});if(!b.ok){let a=await b.json();alert(`Error: ${a.error||"Failed to delete job"}`);return}try{sessionStorage.removeItem("admin_jobs")}catch(a){}await z(),alert("Job deleted successfully!")}catch(a){console.error("Error deleting job:",a),alert(`Error: ${a instanceof Error?a.message:"Unknown error"}`)}}async function y(){try{await fetch("/api/admin/logout",{method:"POST",credentials:"include"})}catch(a){console.error("Logout error:",a)}try{sessionStorage.removeItem("admin_authenticated"),sessionStorage.removeItem("admin_jobs")}catch(a){}a.replace("/admin/login")}async function z(){try{let a=sessionStorage.getItem("admin_jobs");if(a)return void i(JSON.parse(a))}catch(a){}if(!u.current){u.current=!0;try{let a=await fetch("/api/jobs",{cache:"no-store"}),b=await a.json();i(b);try{sessionStorage.setItem("admin_jobs",JSON.stringify(b))}catch(a){}}finally{u.current=!1}}}return((0,c.useEffect)(()=>{let b={v:!1};return t.current?void 0:(t.current=!0,fetch("/api/admin/me").then(a=>{if(!a.ok)throw Error();b.v||(sessionStorage.setItem("admin_authenticated","true"),g(!0))}).catch(()=>{b.v||(sessionStorage.removeItem("admin_authenticated"),a.replace("/admin/login"))}),()=>{b.v=!0})},[a]),(0,c.useEffect)(()=>{f&&z()},[f]),f)?(0,b.jsx)("main",{className:"min-h-screen bg-linear-to-b from-white via-slate-50 to-white py-12 px-6",children:(0,b.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,b.jsxs)("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between mb-12 gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-4xl md:text-5xl font-extrabold text-slate-900 mb-2",children:"Admin Dashboard"}),(0,b.jsx)("p",{className:"text-lg text-slate-600",children:"Manage job postings and career opportunities"})]}),(0,b.jsx)("button",{onClick:y,className:"bg-red-600 hover:bg-red-700 text-white font-semibold px-6 py-2 rounded-lg transition",children:"Logout"})]}),(0,b.jsxs)("div",{className:"grid md:grid-cols-3 gap-6 mb-12",children:[(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 border-l-4 border-yellow-400",children:[(0,b.jsx)("p",{className:"text-slate-600 text-sm font-semibold uppercase",children:"Total Jobs"}),(0,b.jsx)("p",{className:"text-4xl font-bold text-slate-900 mt-2",children:h.length})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 border-l-4 border-blue-400",children:[(0,b.jsx)("p",{className:"text-slate-600 text-sm font-semibold uppercase",children:"Active"}),(0,b.jsx)("p",{className:"text-4xl font-bold text-slate-900 mt-2",children:h.filter(a=>a.title).length})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 border-l-4 border-green-400",children:[(0,b.jsx)("p",{className:"text-slate-600 text-sm font-semibold uppercase",children:"Status"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-green-600 mt-2",children:"âœ“ Operational"})]})]}),(0,b.jsx)("div",{className:"mb-8",children:(0,b.jsx)("button",{onClick:()=>{s(!r),r&&v()},className:"bg-yellow-400 hover:bg-yellow-500 text-black font-bold px-8 py-3 rounded-lg transition transform hover:scale-105",children:r?"Cancel":"+ Add New Job"})}),r&&(0,b.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-yellow-100 p-8 mb-12",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-slate-900 mb-6",children:p?"Edit Job Posting":"Create New Job Posting"}),(0,b.jsxs)("div",{className:"space-y-5",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-slate-900 mb-2",children:"Job Title"}),(0,b.jsx)("input",{type:"text",placeholder:"e.g., Senior React Developer",value:j,onChange:a=>k(a.target.value),className:"w-full px-4 py-3 rounded-lg border border-slate-300 bg-white text-slate-900 placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-yellow-400 focus:border-transparent transition"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-slate-900 mb-2",children:"Required Skills"}),(0,b.jsx)("input",{type:"text",placeholder:"e.g., React, Node.js, TypeScript",value:n,onChange:a=>o(a.target.value),className:"w-full px-4 py-3 rounded-lg border border-slate-300 bg-white text-slate-900 placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-yellow-400 focus:border-transparent transition"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-slate-900 mb-2",children:"Description"}),(0,b.jsx)("textarea",{placeholder:"Job description, responsibilities, and requirements...",value:l,onChange:a=>m(a.target.value),rows:6,className:"w-full px-4 py-3 rounded-lg border border-slate-300 bg-white text-slate-900 placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-yellow-400 focus:border-transparent transition resize-none"})]}),(0,b.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,b.jsx)("button",{onClick:w,className:"flex-1 bg-green-600 hover:bg-green-700 text-white font-bold py-3 rounded-lg transition",children:p?"Update Job":"Create Job"}),(0,b.jsx)("button",{onClick:v,className:"flex-1 bg-slate-300 hover:bg-slate-400 text-slate-900 font-bold py-3 rounded-lg transition",children:"Clear"})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("h2",{className:"text-2xl font-bold text-slate-900 mb-6",children:["Job Postings (",h.length,")"]}),0===h.length?(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:[(0,b.jsx)("p",{className:"text-slate-600 text-lg",children:"No job postings yet."}),(0,b.jsx)("p",{className:"text-slate-500",children:"Create your first job posting to get started!"})]}):(0,b.jsx)("div",{className:"grid gap-6",children:h.map(c=>(0,b.jsxs)("div",{className:"bg-white rounded-xl shadow-md border border-slate-200 hover:shadow-lg transition p-6",children:[(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-slate-900 mb-1",children:c.title}),(0,b.jsxs)("p",{className:"text-sm text-yellow-600 font-semibold flex items-center gap-2",children:["ðŸ› ï¸ ",c.requiredSkills]})]}),(0,b.jsx)("p",{className:"text-slate-600 mb-6 leading-relaxed",children:c.description}),(0,b.jsxs)("div",{className:"flex gap-3 flex-wrap",children:[(0,b.jsx)("button",{onClick:()=>{k(c.title),m(c.description),o(c.requiredSkills),q(c._id),s(!0),window.scrollTo(0,0)},className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold px-5 py-2 rounded-lg transition",children:"âœï¸ Edit"}),(0,b.jsx)("button",{onClick:()=>x(c._id),className:"bg-red-600 hover:bg-red-700 text-white font-semibold px-5 py-2 rounded-lg transition",children:"ðŸ—‘ï¸ Delete"}),(0,b.jsx)("button",{onClick:()=>a.push(`/careers#${c._id}`),className:"bg-slate-600 hover:bg-slate-700 text-white font-semibold px-5 py-2 rounded-lg transition",children:"ðŸ‘ï¸ View"})]})]},c._id))})]}),(0,b.jsx)("div",{className:"mt-12 text-center",children:(0,b.jsx)(e.default,{href:"/",className:"inline-flex items-center text-sm font-semibold text-slate-700 hover:text-yellow-600 transition",children:"â† Back to Home"})})]})}):null}a.s(["default",()=>f])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__76bcffe4._.js.map